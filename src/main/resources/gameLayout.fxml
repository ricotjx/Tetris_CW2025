<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ToggleButton?>
<?import javafx.scene.Group?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.Text?>
<?import java.net.URL?>
<BorderPane fx:controller="com.comp2042.UI.GuiController"
            xmlns:fx="http://javafx.com/fxml/1"
            prefWidth="600"
            prefHeight="700"
            styleClass="root">

    <!-- Top: Title -->
    <top>
        <VBox alignment="CENTER" spacing="10" style="-fx-padding: 20;">
            <Label text="TETRIS" styleClass="ipad-dark-grey"/>
        </VBox>
    </top>

    <!-- Center: Main Game Area -->
    <center>
        <StackPane>
            <!-- Home Page Overlay -->
            <StackPane fx:id="homeContainer"
                       visible="true"
                       styleClass="home-container">
                <!-- HomePanel will be added programmatically by GuiController -->
            </StackPane>

            <!-- Game Over Overlay -->
            <StackPane fx:id="gameOverContainer"
                       visible="false"
                       styleClass="game-over-container">
                <!-- GameOverPanel will be added programmatically by GuiController -->
            </StackPane>

            <!-- Main game content -->
            <HBox spacing="30" alignment="CENTER" style="-fx-padding: 2; -fx-alignment: center;">

                <!-- Left: Hold Brick -->
                <VBox spacing="5" alignment="BOTTOM_CENTER" prefHeight="200">
                    <Label text="HOLD" styleClass="nextBrickLabel"/>
                    <GridPane fx:id="holdPanel"
                              vgap="1" hgap="1"
                              styleClass="nextBrick"/>
                </VBox>

                <!-- Center: Game Board -->
                <VBox spacing="10" alignment="CENTER" prefHeight="200">
                    <Label text="BOARD" styleClass="nextBrickLabel"/>
                    <BorderPane styleClass="gameBoard">
                        <center>
                            <GridPane fx:id="gamePanel"
                                      hgap="1" vgap="1"
                                      style="-fx-background-color: #000000;"/>
                        </center>
                    </BorderPane>
                </VBox>

                <!-- Right: Side Panel -->
                <VBox spacing="20" alignment="TOP_CENTER" prefHeight="200" style="-fx-padding: 5;">

                    <!-- Score -->
                    <VBox spacing="5" alignment="CENTER">
                        <Label text="SCORE" styleClass="nextBrickLabel"/>
                        <Label fx:id="scoreLabel" text="0" styleClass="scoreClass"/>
                    </VBox>

                    <!-- Next Brick -->
                    <VBox spacing="5" alignment="CENTER">
                        <Label text="NEXT" styleClass="nextBrickLabel"/>
                        <GridPane fx:id="brickPanel"
                                  vgap="1" hgap="1"
                                  styleClass="nextBrick"/>
                    </VBox>

                    <!-- Stats Section -->
                    <VBox fx:id="statsPanel" spacing="8" alignment="CENTER" styleClass="stats-panel">
                        <Label text="STATS" styleClass="stats-title"/>

                        <!-- Level -->
                        <HBox spacing="10" alignment="CENTER_LEFT">
                            <Label text="LEVEL:" styleClass="stats-label"/>
                            <Label fx:id="levelLabel" text="1" styleClass="level-value"/>
                        </HBox>

                        <!-- Lines Cleared -->
                        <HBox spacing="10" alignment="CENTER_LEFT">
                            <Label text="LINES:" styleClass="stats-label"/>
                            <Label fx:id="linesLabel" text="0" styleClass="lines-value"/>
                        </HBox>

                        <!-- Combo -->
                        <HBox spacing="10" alignment="CENTER_LEFT">
                            <Label text="COMBO:" styleClass="stats-label"/>
                            <Label fx:id="comboLabel" text="x0" styleClass="combo-value"/>
                        </HBox>

                        <!-- Timer -->
                        <HBox spacing="10" alignment="CENTER_LEFT">
                            <Label text="TIME:" styleClass="stats-label"/>
                            <Label fx:id="timerLabel" text="00:00" styleClass="level-value"/>
                        </HBox>
                    </VBox>

                </VBox>
            </HBox>
        </StackPane>
    </center>

    <!-- Bottom: Controls -->
    <bottom>
        <VBox spacing="5" alignment="CENTER" style="-fx-padding: 5;">
            <Label text="CONTROLS" styleClass="nextBrickLabel"/>
            <HBox spacing="20" alignment="CENTER">
                <VBox spacing="2">
                    <Label text="← → : Move Left/Right" styleClass="helpInfo"/>
                    <Label text="↑ : Rotate" styleClass="helpInfo"/>
                    <Label text="↓ : Move Down Faster" styleClass="helpInfo"/>
                    <Label text="Space : Hard Drop" styleClass="helpInfo"/>
                </VBox>
                <VBox spacing="2">
                    <Label text="Esc : Pause" styleClass="helpInfo"/>
                    <Label text="C : Hold Brick" styleClass="helpInfo"/>
                    <Label text="N : New Game" styleClass="helpInfo"/>
                    <Label text="H : Main Menu" styleClass="helpInfo"/>
                </VBox>
            </HBox>
        </VBox>
    </bottom>

    <!-- Overlays (positioned absolutely) -->
    <children>
        <!-- Notifications Area -->
        <Group fx:id="groupNotification"
               layoutX="200"
               layoutY="300"/>
    </children>

    <stylesheets>
        <URL value="@window_style.css"/>
    </stylesheets>
</BorderPane>